
import board
import pulseio
import array
# import time


TV_ON_SIGNAL = [4527, 4479, 570, 1668, 576, 1662, 579, 1659, 573, 573, 549, 570, 552, 567, 552, 570, 552, 567, 543, 1668, 576, 1662, 579, 1659, 573, 573, 549, 570, 552, 567, 552, 567, 546, 573, 546, 576, 546, 1665, 579, 567, 552, 567, 546, 573, 546, 573, 549, 570, 552, 567, 555, 1656, 576, 570, 549, 1665, 579, 1659, 573, 1665, 576, 1662, 570, 1668, 576, 1662, 579]
OFFICE_STEREO = [2673, 888, 423, 912, 450, 441, 462, 429, 450, 888, 894, 441, 903, 906, 423, 468, 423, 468, 876, 459, 432, 903, 879, 459, 429, 906, 459, 432, 459, 432, 897, 465, 426, 465, 426, 17678, 2685, 879, 423, 912, 450, 441, 459, 432, 459, 876, 897, 438, 903, 906, 426, 465, 426, 465, 876, 462, 429, 906, 876, 459, 432, 906, 456, 432, 459, 432, 900, 465, 426, 465, 426, 17678, 2676, 885, 426, 912, 450, 441, 450, 438, 453, 885, 897, 438, 903, 906, 426, 465, 426, 465, 876, 459, 432, 906, 876, 459, 432, 903, 459, 432, 459, 432, 900, 462, 429, 462, 429]
TV_MUM_SIGNAL_ON = [876, 2313, 444, 1644, 444, 948, 444, 1644, 444, 1644, 441, 951, 444, 1644, 441, 951, 444, 948, 444, 1644, 444, 951, 441, 951, 435, 957, 435, 1653, 498, 894, 435, 1653, 435, 957, 438, 1650, 435, 1653, 444, 1641, 444, 951, 444, 1641, 444, 951, 432, 1653, 444, 876, 2313, 444, 1644, 441, 951, 441, 1647, 441, 1647, 438, 954, 441, 1647, 438, 954, 441, 951, 441, 1647, 441, 951, 441, 954, 441, 951, 444, 1644, 441, 951, 444, 1644, 441, 951, 444, 1644, 441, 1647, 438, 1647, 438, 957, 438, 1647, 438, 957, 438, 1647, 438]
TV_MUM_SIGNAL_OFF = [873, 2316, 441, 1647, 441, 951, 441, 1647, 438, 1650, 438, 954, 438, 1650, 438, 954, 438, 954, 441, 1647, 438, 954, 441, 951, 444, 951, 441, 1644, 441, 954, 441, 1644, 441, 951, 444, 1644, 441, 1647, 438, 1650, 438, 954, 438, 1650, 438, 954, 438, 1650, 435, 873, 2319, 438, 1650, 435, 957, 438, 1650, 435, 1650, 438, 957, 435, 1650, 438, 957, 435, 957, 438, 1650, 435, 957, 438, 954, 441, 951, 441, 1647, 438, 954, 441, 1647, 438, 954, 441, 1647, 438, 1650, 438, 1647, 438, 957, 435, 1650, 438, 957, 435, 1650, 438]
TV_MUM_MUTE = [876, 2313, 441, 954, 441, 951, 444, 1641, 444, 1644, 441, 951, 444, 1644, 441, 951, 444, 951, 441, 1644, 444, 951, 441, 1644, 441, 954, 441, 951, 444, 948, 435, 1653, 444, 948, 435, 1653, 444, 948, 435, 1653, 444, 1644, 441, 1644, 441, 954, 441, 1644, 441, 879, 2310, 435, 957, 438, 957, 435, 1650, 438, 1650, 444, 948, 435, 1653, 444, 948, 435, 960, 435, 1650, 435, 960, 435, 1650, 435, 960, 435, 957, 435, 957, 438, 1650, 435, 957, 438, 1650, 435, 957, 438, 1650, 435, 1653, 432, 1653, 444, 951, 432, 1653, 444]
TV_MUM_UNMUTE = [873, 2316, 441, 1647, 438, 954, 441, 1647, 438, 1650, 438, 954, 438, 1650, 435, 957, 438, 954, 441, 1647, 438, 954, 441, 1647, 438, 954, 441, 951, 441, 951, 444, 1644, 441, 951, 444, 1644, 441, 951, 444, 1644, 441, 1644, 441, 1647, 438, 954, 441, 1647, 438]

class Emitter():

	def __init__(
		self,
	) -> None:
		# Preparing IR receiver
		# 50% duty cycle at 38kHz.
		self.pulse_out = pulseio.PulseOut(board.IO6, frequency=38000, duty_cycle=32768)
		self.pulses = array.array('H', TV_MUM_SIGNAL_OFF)

	def emit(self) -> None:
		self.pulse_out.send(self.pulses)


def main() -> None:
	emitter = Emitter()
	print("Emitting...")
	emitter.emit()

	# while True:
	# 	print("Emitting...")
	# 	emitter.emit()
	# 	time.sleep(3)


if __name__ == "__main__":
	main()
